<!DOCTYPE html>
<html xmlns:f="http://typo3.org/ns/Neos/FluidAdaptor/ViewHelpers"
      xmlns:usermanagement="http://typo3.org/ns/Sandstorm/UserManagement/ViewHelpers"
      xmlns="http://www.w3.org/1999/xhtml"
      lang="en">

<f:layout name="Default"/>

<f:section name="Title">Registration</f:section>

<f:section name="Content">
  <usermanagement:ifAuthenticated authenticationProviderName="Sandstorm.UserManagement:Login">
    <f:then>
    </f:then>
    <f:else>
      <f:form action="register" method="post" objectName="registrationFlow">
        <fieldset>
          <label>
            E-Mail-Adresse
            <f:form.textfield property="email" placeholder="test@example.com" name="__authentication[Neos][Flow][Security][Authentication][Token][UsernamePassword][username]" type="email" required="true"/>
            <f:render partial="FormErrors" section="ValidationResults" arguments="{for: 'registrationFlow.email'}"/>
          </label>

          <label>
            Passwort
            <f:form.password placeholder="Ihr Passwort" property="passwordDto.password" required="true"/>
            <f:render partial="FormErrors" section="ValidationResults" arguments="{for: 'registrationFlow.passwordDto.password'}"/>
          </label>

          <label>
            Passwortbest√§tigung
            <f:form.password placeholder="Passwort wiederholen" property="passwordDto.passwordConfirmation" required="true"/>
          </label>

          <label>
            Anrede
            <f:form.select options="{'m': 'Herr', 'f': 'Frau'}" property="attributes.salutation" />
            <f:render partial="FormErrors" section="ValidationResults" arguments="{for: 'registrationFlow.attributes.salutation'}"/>
          </label>

          <label>
            Vorname
            <f:form.textfield placeholder="Manfred" property="attributes.firstName" required="true"/>
            <f:render partial="FormErrors" section="ValidationResults" arguments="{for: 'registrationFlow.attributes.firstName'}"/>
          </label>

          <label>
            Nachname
            <f:form.textfield placeholder="Mustermann" property="attributes.lastName"/>
            <f:render partial="FormErrors" section="ValidationResults" arguments="{for: 'registrationFlow.attributes.lastName'}"/>
          </label>

          <input type="submit" value="Registrieren" class="button large primary"/>
        </fieldset>
      </f:form>
    </f:else>
  </usermanagement:ifAuthenticated>
</f:section>

</html>
